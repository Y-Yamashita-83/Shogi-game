# Pygame 将棋ゲーム

シンプルな将棋ゲームのプロトタイプです。

## 機能

- 将棋盤と駒の表示（画像表示）
- 各駒の正確な動きのルール
- 駒の選択と移動（移動可能なマスがハイライト表示）
- 駒を取る機能
- 成り（駒の昇格）機能と成るかどうかの選択
- 持ち駒を打つ機能
- 王手と詰みの判定
- 手番の交代
- ゲーム終了条件（詰みまたは王・玉の取得）
- ゲーム終了時のリスタート機能
- 駒の移動・配置時の効果音
- 特殊技システム（開発中）

## 実行方法

```
python3 main.py
```

## 操作方法

- 盤上の駒をクリックして選択
- 持ち駒をクリックして選択
  - 先手の持ち駒：画面左側（左上から配置、1行2駒まで）
  - 後手の持ち駒：画面右側（右下から配置、1行2駒まで）
- 緑色にハイライトされた移動可能なマスをクリックして駒を移動または持ち駒を打つ
- 敵陣3段目に入ると成りの選択ウィンドウが表示される
  - 「成る」または「成らない」を選択
- 王手の場合は画面上部に「王手！！」と表示
- ゲーム終了条件：
  - 詰みの場合：画面上部に「詰み！！〇〇の勝ち！！」と表示
  - 王または玉が取られた場合：画面上部に「〇〇の勝ち！！」と表示
  - ゲーム終了時は画面下部に「最初に戻る」ボタンが表示され、クリックすると新しいゲームが始まります
- 特殊技：
  - 画面右上の「技を使う」ボタンをクリックすると特殊技ウィンドウが開きます
  - 特殊技ウィンドウの「戻る」ボタンをクリックすると元の画面に戻ります

## 持ち駒のルール

- 持ち駒は空きマスにのみ打てます
- 歩と香車は1段目（後手は9段目）に打てません
- 桂馬は1、2段目（後手は8、9段目）に打てません
- 二歩（同じ筋に自分の歩が既にある場合）は禁止です

## 駒の動き

- 歩兵（歩）：前に1マス
  - 先手：下に1マス
  - 後手：上に1マス
- 香車（香）：前に何マスでも
  - 先手：下方向
  - 後手：上方向
- 桂馬（桂）：前に2マス、横に1マス（L字）
  - 先手：下に2マス、横に1マス
  - 後手：上に2マス、横に1マス
- 銀将（銀）：斜め前3方向と斜め後ろ2方向
  - 先手：下斜め3方向と上斜め2方向
  - 後手：上斜め3方向と下斜め2方向
- 金将（金）：前後左右と斜め前（6方向）
  - 先手：上下左右と下斜め2方向
  - 後手：上下左右と上斜め2方向
- 王将/玉将（王/玉）：周囲8マス
- 角行（角）：斜め方向に何マスでも
- 飛車（飛）：縦横方向に何マスでも

## 成り駒

- 歩兵 → と金（金と同じ動き）
- 香車 → 成香（金と同じ動き）
- 桂馬 → 成桂（金と同じ動き）
- 銀将 → 成銀（金と同じ動き）
- 角行 → 馬（角の動き + 十字1マス）
- 飛車 → 龍（飛車の動き + 斜め1マス）

## 注意点

このプロトタイプでは、以下の機能はまだ実装されていません：

- 千日手や持将棋などの特殊なルール

これらの機能は今後追加予定です。
